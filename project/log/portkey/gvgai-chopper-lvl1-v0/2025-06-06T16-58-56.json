[
  {
    "role": "user",
    "content": "=== Game Rules ===\nGame rules in natural language:\n## Game Analysis\n\n### Genre:\nThis game seems to fit into the **action/strategy** genre with elements of real-time shooting and resource management. The mechanics suggest a blend of tower defense and shoot 'em up gameplay.\n\n### Mechanics:\n1. **Sprites & Movement:**\n   - The game contains various sprite types (e.g., avatar, tanks, missiles, clouds, and bombs) that interact with each other based on defined interactions. For instance, the avatar can shoot missiles (bullets) and interact with supply items to gain additional resources.\n   - Sprites have different orientations, speeds, and effects when they collide with each other or with the environment (walls).\n\n2. **Resource Management:**\n   - The avatar collects bullets and has limited resources (bullets limit = 20) and can gain more through supply sprites.\n   - Portals serve as strategic points in the game, perhaps for spawning additional units or resources.\n\n3. **Combat:**\n   - The avatar engages in combat against various sprites (e.g., tanks, satellites) and must dodge projectiles (like bombs and missiles) while trying to defeat enemy units.\n   - Interactions specify killing conditions and effects, indicating that collisions lead to changes in game state, such as scores and sprite existence.\n\n### Objective:\nThe primary objectives include:\n- **Survival:** Keep the avatar alive while managing resources and defeating enemies.\n- **Defeat Enemies:** Eliminate all enemy satellites and avoid allowing too many tanks to remain on the battlefield.\n- **Control Portals:** Use portals effectively to manage the spawn of friendly units or supplies.\n\n### Win/Loss Conditions:\n- **Win Condition:** You win if you manage to eliminate all tank sprites while also keeping the portal bases operational.\n- **Loss Conditions:** \n   - You lose if the avatar sprite count goes to zero.\n   - You lose if the number of enemy satellites reaches zero.\n\n### Overall Strategy:\n1. **Resource Collection:**\n   - Prioritize collecting supplies that replenish ammo for the avatar. Staying well-stocked on resources will allow you to engage enemies more effectively.\n\n2. **Positioning:**\n   - Keep the avatar away from edges of the game area when possible. Avoid being cornered by enemy sprites, particularly tanks and missiles that can deal significant damage.\n\n3. **Aggressive Engagement:**\n   - Engage tanks while strategically using bombs to damage multiple units when they cluster together. Coordinate shots with movement to maintain a safe distance.\n\n4. **Maintain Portals:**\n   - Control and defend portal areas to ensure a steady supply of new units. Use them strategically to spawn good sprites that can aid in your combat efforts.\n\n5. **Focus on Target Selection:**\n   - Identify threats wisely. Prioritize taking down providing sprites like tanks before they overwhelm you, while also managing to eliminate satellites that will negatively impact your score.\n\nBy managing resources carefully, maintaining a spatial awareness of enemy positions, and prioritizing threats strategically, players can maximize their chances of achieving the win condition.\n\nYou are an intelligent player playing a video game, and you have a friend provide you strategy. Interpret the state, rule, strategy and act accordingly. Notice that your avatar position is one of the most important information, if the position doesn't change from the last state, you need to analyze the state and make a different action from the last time.\n\n=== Available Actions ===\n0: ACTION_NIL\n1: ACTION_USE\n2: ACTION_LEFT\n3: ACTION_RIGHT\n4: ACTION_DOWN\n5: ACTION_UP\n\n=== Important Mechanics Notice ===\n In some games, directional actions (LEFT, RIGHT, UP, DOWN) may first cause the avatar to rotate toward the intended direction without immediately moving. If the avatar's position does not change after a directional action, it may indicate a rotation has occurred. To proceed, you must apply the directional action again after rotation. Always verify whether the avatar actually moved after each action. Please understand the rule and the interaction set first, then locate the item, finally choose a meaningful action towards the win and respond in the format: ``` Action:<action number> ```. Include one sentence of feedback on the action and your expectation to see if it aligns with the strategy. Notice, Action 0 will not reasult in any change in this game environment, and you may need to understand the level layout first to play the game. \n\n=== Sprite Mapping ===\navatar -> 'a'\nsatellite thermosphere -> 'c'\nportalBase troposphere -> 'b'\nthermosphere -> 't'\nstratosphere -> 's'\ntroposphere -> 'p'\nleftCloud stratosphere -> 'l'\nfastLeftCloud stratosphere -> 'd'\nrightCloud stratosphere -> 'r'\nfastRightCloud stratosphere -> 'e'\nfastLeftCloud -> '@'\nfastRightCloud -> '#'\nleftCloud -> '$'\nportalAmmo -> '%'\nportalBase sam tank -> '&'\nrightCloud -> '*'\nsam -> 'f'\nsatellite -> 'l'\ntank -> 'g'\nportalBase tank -> 'h'\nportalBase -> 'i'\nfastLeftCloud leftCloud -> 'j'\nfastRightCloud portalAmmo -> 'k'\nfastRightCloud rightCloud -> 'm'\nfastRightCloud portalAmmo supply -> 'n'\nfastRightCloud supply -> 'o'\nsupply -> 'q'\nfastRightCloud leftCloud -> 'u'\nportalAmmo supply -> 'v'\nfastLeftCloud fastRightCloud leftCloud -> 'w'\nfastLeftCloud fastRightCloud rightCloud -> 'x'\nfastLeftCloud rightCloud -> 'y'\nsam tank -> 'z'\nfastRightCloud rightCloud supply -> 'A'\nrightCloud supply -> 'B'\nfastLeftCloud fastRightCloud -> 'C'\nbomb leftCloud -> 'D'\nbomb -> 'E'\nbomb fastLeftCloud leftCloud -> 'F'\nbomb fastLeftCloud -> 'G'\n\n=== Current State ===\n=== Map in Natural language ===\nEach line shows entity at (row, col).\nIn rotated version, row emphasizes vertical (up-down).\nrow=0, col=0 -> .\nrow=0, col=1 -> .\nrow=0, col=2 -> .\nrow=0, col=3 -> .\nrow=0, col=4 -> .\nrow=0, col=5 -> .\nrow=0, col=6 -> l\nrow=0, col=7 -> .\nrow=0, col=8 -> .\nrow=0, col=9 -> .\nrow=0, col=10 -> .\nrow=0, col=11 -> .\nrow=0, col=12 -> .\nrow=0, col=13 -> .\nrow=0, col=14 -> .\nrow=0, col=15 -> .\nrow=0, col=16 -> .\nrow=0, col=17 -> .\nrow=0, col=18 -> l\nrow=0, col=19 -> .\nrow=0, col=20 -> .\nrow=0, col=21 -> .\nrow=0, col=22 -> .\nrow=0, col=23 -> .\nrow=0, col=24 -> .\nrow=0, col=25 -> .\nrow=0, col=26 -> .\nrow=0, col=27 -> .\nrow=0, col=28 -> .\nrow=0, col=29 -> .\nrow=0, col=30 -> .\nrow=1, col=0 -> .\nrow=1, col=1 -> .\nrow=1, col=2 -> l\nrow=1, col=3 -> .\nrow=1, col=4 -> .\nrow=1, col=5 -> .\nrow=1, col=6 -> l\nrow=1, col=7 -> .\nrow=1, col=8 -> .\nrow=1, col=9 -> .\nrow=1, col=10 -> .\nrow=1, col=11 -> .\nrow=1, col=12 -> .\nrow=1, col=13 -> .\nrow=1, col=14 -> .\nrow=1, col=15 -> .\nrow=1, col=16 -> .\nrow=1, col=17 -> .\nrow=1, col=18 -> .\nrow=1, col=19 -> .\nrow=1, col=20 -> l\nrow=1, col=21 -> .\nrow=1, col=22 -> .\nrow=1, col=23 -> l\nrow=1, col=24 -> .\nrow=1, col=25 -> .\nrow=1, col=26 -> l\nrow=1, col=27 -> .\nrow=1, col=28 -> l\nrow=1, col=29 -> .\nrow=1, col=30 -> l\nrow=2, col=0 -> .\nrow=2, col=1 -> .\nrow=2, col=2 -> .\nrow=2, col=3 -> .\nrow=2, col=4 -> .\nrow=2, col=5 -> .\nrow=2, col=6 -> .\nrow=2, col=7 -> .\nrow=2, col=8 -> .\nrow=2, col=9 -> .\nrow=2, col=10 -> .\nrow=2, col=11 -> .\nrow=2, col=12 -> .\nrow=2, col=13 -> .\nrow=2, col=14 -> .\nrow=2, col=15 -> .\nrow=2, col=16 -> .\nrow=2, col=17 -> .\nrow=2, col=18 -> .\nrow=2, col=19 -> .\nrow=2, col=20 -> .\nrow=2, col=21 -> .\nrow=2, col=22 -> .\nrow=2, col=23 -> .\nrow=2, col=24 -> .\nrow=2, col=25 -> .\nrow=2, col=26 -> .\nrow=2, col=27 -> .\nrow=2, col=28 -> .\nrow=2, col=29 -> .\nrow=2, col=30 -> .\nrow=3, col=0 -> .\nrow=3, col=1 -> .\nrow=3, col=2 -> l\nrow=3, col=3 -> .\nrow=3, col=4 -> l\nrow=3, col=5 -> .\nrow=3, col=6 -> .\nrow=3, col=7 -> .\nrow=3, col=8 -> l\nrow=3, col=9 -> .\nrow=3, col=10 -> .\nrow=3, col=11 -> .\nrow=3, col=12 -> .\nrow=3, col=13 -> .\nrow=3, col=14 -> .\nrow=3, col=15 -> .\nrow=3, col=16 -> l\nrow=3, col=17 -> .\nrow=3, col=18 -> .\nrow=3, col=19 -> .\nrow=3, col=20 -> .\nrow=3, col=21 -> l\nrow=3, col=22 -> .\nrow=3, col=23 -> .\nrow=3, col=24 -> .\nrow=3, col=25 -> .\nrow=3, col=26 -> .\nrow=3, col=27 -> .\nrow=3, col=28 -> .\nrow=3, col=29 -> .\nrow=3, col=30 -> l\nrow=4, col=0 -> .\nrow=4, col=1 -> #\nrow=4, col=2 -> #\nrow=4, col=3 -> #\nrow=4, col=4 -> $\nrow=4, col=5 -> $\nrow=4, col=6 -> *\nrow=4, col=7 -> *\nrow=4, col=8 -> *\nrow=4, col=9 -> $\nrow=4, col=10 -> $\nrow=4, col=11 -> $\nrow=4, col=12 -> $\nrow=4, col=13 -> $\nrow=4, col=14 -> .\nrow=4, col=15 -> @\nrow=4, col=16 -> @\nrow=4, col=17 -> $\nrow=4, col=18 -> $\nrow=4, col=19 -> .\nrow=4, col=20 -> .\nrow=4, col=21 -> .\nrow=4, col=22 -> .\nrow=4, col=23 -> .\nrow=4, col=24 -> .\nrow=4, col=25 -> .\nrow=4, col=26 -> .\nrow=4, col=27 -> .\nrow=4, col=28 -> .\nrow=4, col=29 -> .\nrow=4, col=30 -> .\nrow=5, col=0 -> .\nrow=5, col=1 -> .\nrow=5, col=2 -> .\nrow=5, col=3 -> .\nrow=5, col=4 -> .\nrow=5, col=5 -> .\nrow=5, col=6 -> .\nrow=5, col=7 -> $\nrow=5, col=8 -> $\nrow=5, col=9 -> $\nrow=5, col=10 -> $\nrow=5, col=11 -> $\nrow=5, col=12 -> $\nrow=5, col=13 -> .\nrow=5, col=14 -> .\nrow=5, col=15 -> .\nrow=5, col=16 -> .\nrow=5, col=17 -> $\nrow=5, col=18 -> .\nrow=5, col=19 -> .\nrow=5, col=20 -> $\nrow=5, col=21 -> .\nrow=5, col=22 -> .\nrow=5, col=23 -> .\nrow=5, col=24 -> .\nrow=5, col=25 -> j\nrow=5, col=26 -> j\nrow=5, col=27 -> j\nrow=5, col=28 -> .\nrow=5, col=29 -> .\nrow=5, col=30 -> .\nrow=6, col=0 -> .\nrow=6, col=1 -> #\nrow=6, col=2 -> #\nrow=6, col=3 -> .\nrow=6, col=4 -> .\nrow=6, col=5 -> q\nrow=6, col=6 -> .\nrow=6, col=7 -> .\nrow=6, col=8 -> .\nrow=6, col=9 -> .\nrow=6, col=10 -> .\nrow=6, col=11 -> .\nrow=6, col=12 -> *\nrow=6, col=13 -> *\nrow=6, col=14 -> *\nrow=6, col=15 -> q\nrow=6, col=16 -> .\nrow=6, col=17 -> .\nrow=6, col=18 -> .\nrow=6, col=19 -> .\nrow=6, col=20 -> .\nrow=6, col=21 -> .\nrow=6, col=22 -> .\nrow=6, col=23 -> .\nrow=6, col=24 -> .\nrow=6, col=25 -> .\nrow=6, col=26 -> .\nrow=6, col=27 -> q\nrow=6, col=28 -> .\nrow=6, col=29 -> .\nrow=6, col=30 -> %\nrow=7, col=0 -> .\nrow=7, col=1 -> .\nrow=7, col=2 -> .\nrow=7, col=3 -> .\nrow=7, col=4 -> .\nrow=7, col=5 -> .\nrow=7, col=6 -> .\nrow=7, col=7 -> *\nrow=7, col=8 -> .\nrow=7, col=9 -> .\nrow=7, col=10 -> .\nrow=7, col=11 -> .\nrow=7, col=12 -> .\nrow=7, col=13 -> .\nrow=7, col=14 -> .\nrow=7, col=15 -> .\nrow=7, col=16 -> .\nrow=7, col=17 -> .\nrow=7, col=18 -> .\nrow=7, col=19 -> .\nrow=7, col=20 -> .\nrow=7, col=21 -> .\nrow=7, col=22 -> *\nrow=7, col=23 -> *\nrow=7, col=24 -> m\nrow=7, col=25 -> m\nrow=7, col=26 -> .\nrow=7, col=27 -> .\nrow=7, col=28 -> .\nrow=7, col=29 -> .\nrow=7, col=30 -> .\nrow=8, col=0 -> .\nrow=8, col=1 -> .\nrow=8, col=2 -> .\nrow=8, col=3 -> a\nrow=8, col=4 -> .\nrow=8, col=5 -> .\nrow=8, col=6 -> .\nrow=8, col=7 -> .\nrow=8, col=8 -> .\nrow=8, col=9 -> .\nrow=8, col=10 -> .\nrow=8, col=11 -> .\nrow=8, col=12 -> .\nrow=8, col=13 -> .\nrow=8, col=14 -> .\nrow=8, col=15 -> .\nrow=8, col=16 -> .\nrow=8, col=17 -> .\nrow=8, col=18 -> .\nrow=8, col=19 -> .\nrow=8, col=20 -> .\nrow=8, col=21 -> .\nrow=8, col=22 -> .\nrow=8, col=23 -> .\nrow=8, col=24 -> .\nrow=8, col=25 -> .\nrow=8, col=26 -> .\nrow=8, col=27 -> .\nrow=8, col=28 -> .\nrow=8, col=29 -> .\nrow=8, col=30 -> .\nrow=9, col=0 -> .\nrow=9, col=1 -> .\nrow=9, col=2 -> f\nrow=9, col=3 -> f\nrow=9, col=4 -> .\nrow=9, col=5 -> .\nrow=9, col=6 -> .\nrow=9, col=7 -> f\nrow=9, col=8 -> f\nrow=9, col=9 -> .\nrow=9, col=10 -> .\nrow=9, col=11 -> .\nrow=9, col=12 -> .\nrow=9, col=13 -> .\nrow=9, col=14 -> .\nrow=9, col=15 -> .\nrow=9, col=16 -> .\nrow=9, col=17 -> .\nrow=9, col=18 -> .\nrow=9, col=19 -> .\nrow=9, col=20 -> .\nrow=9, col=21 -> .\nrow=9, col=22 -> .\nrow=9, col=23 -> .\nrow=9, col=24 -> .\nrow=9, col=25 -> .\nrow=9, col=26 -> .\nrow=9, col=27 -> .\nrow=9, col=28 -> .\nrow=9, col=29 -> .\nrow=9, col=30 -> .\nrow=10, col=0 -> .\nrow=10, col=1 -> .\nrow=10, col=2 -> f\nrow=10, col=3 -> f\nrow=10, col=4 -> .\nrow=10, col=5 -> .\nrow=10, col=6 -> .\nrow=10, col=7 -> f\nrow=10, col=8 -> f\nrow=10, col=9 -> .\nrow=10, col=10 -> .\nrow=10, col=11 -> .\nrow=10, col=12 -> .\nrow=10, col=13 -> .\nrow=10, col=14 -> .\nrow=10, col=15 -> .\nrow=10, col=16 -> .\nrow=10, col=17 -> .\nrow=10, col=18 -> .\nrow=10, col=19 -> .\nrow=10, col=20 -> .\nrow=10, col=21 -> .\nrow=10, col=22 -> .\nrow=10, col=23 -> .\nrow=10, col=24 -> .\nrow=10, col=25 -> .\nrow=10, col=26 -> .\nrow=10, col=27 -> .\nrow=10, col=28 -> .\nrow=10, col=29 -> .\nrow=10, col=30 -> .\nrow=11, col=0 -> i\nrow=11, col=1 -> .\nrow=11, col=2 -> .\nrow=11, col=3 -> g\nrow=11, col=4 -> .\nrow=11, col=5 -> .\nrow=11, col=6 -> .\nrow=11, col=7 -> g\nrow=11, col=8 -> g\nrow=11, col=9 -> .\nrow=11, col=10 -> .\nrow=11, col=11 -> .\nrow=11, col=12 -> g\nrow=11, col=13 -> g\nrow=11, col=14 -> .\nrow=11, col=15 -> .\nrow=11, col=16 -> .\nrow=11, col=17 -> g\nrow=11, col=18 -> g\nrow=11, col=19 -> .\nrow=11, col=20 -> .\nrow=11, col=21 -> .\nrow=11, col=22 -> g\nrow=11, col=23 -> g\nrow=11, col=24 -> .\nrow=11, col=25 -> .\nrow=11, col=26 -> .\nrow=11, col=27 -> .\nrow=11, col=28 -> .\nrow=11, col=29 -> .\nrow=11, col=30 -> .",
    "model": "portkey"
  },
  {
    "role": "assistant",
    "content": "Given the current state of the game, my avatar ('a') is located at (8, 3). I need to assess the surroundings to prioritize actions that align with the win condition of eliminating enemy tanks and maintaining portals.\n\n### Evaluation of Current State:\n1. **Nearby Enemy Tanks ('g')**: There are multiple enemy tanks on the battlefield, notably in rows 11 and 12, which directly threaten my position and resource management.\n2. **Resources**: There are more supply items within the surrounding area that can potentially rejuvenate my resources.\n3. **Position**: My avatar's current position does not seem to be compromised, but there are threats directly below. \n\n### Strategy:\n- **Engagement**: I am currently surrounded by tanks on the next row down (row 11). It is critical that I either engage or move to a safer position while looking for any opportunities to gather resources effectively. \n- **Direction Actions**: Since my position is (8, 3), the direct tactics would involve either moving down to engage those tanks or finding other resources to collect ammunition and support.\n\n### Action Decision:\nI will choose to move **down** to (9, 3) to assess if the tanks might be within a better attackable range or if I can dodge and collect resources.\n\n``` Action:4 ```\nI expect to better position myself for an attack or resource gathering, and given the number of tanks nearby, immediate tactical engagement is paramount.",
    "model": "portkey"
  }
]